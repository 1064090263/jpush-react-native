[中文文档](./APIs_zh.md)

- [Common API](#common-api)
  - [getRegistrationID](#getregistrationid)
  - [setAlias](#setalias)
  - [addTags](#addtags)
  - [setTags](#settags)
  - [cleanTags](#cleantags)
  - [setAlias](#setalias)
  - [Open Notification Event](#open-notification-event)
  - [Receive Notification event](#receive-notification-event)
  - [Receive Custom Message Event](#receive-custom-message-event)
- [iOS Only API](#ios-only-api)
  - [setBadge](#setbadge)
  - [getBadge](#getbadge)
  - [setLocalNotification](#setlocalnotification)
  - [Open Notification Launch App Event](#open-notification-launch-app-event)
  - [Network Did Login Event](#network-did-login-event)
- [Android Only API](#android-only-api)
  - [initPush](#initpush)
  - [stopPush](#stoppush)
  - [resumePush](#resumepush)
  - [crashLogOFF](#crashlogoff)
  - [crashLogON](#crashlogon)
  - [notifyJSDidLoad](#notifyjsdidload)
  - [clearAllNotifications](#clearallnotifications)
  - [clearNotificationById](#clearnotificationbyId)
  - [getInfo](#getInfo)
  - [setStyleBasic](#setstylebasic)
  - [setStyleCustom](#setstylecustom)
  - [setLatestNotificationNumber](#setlatestnotificationnumber)
  - [setSilenceTime](#setsilencetime)
  - [setPushTime](#setpushtime)
  - [addGetRegistrationIdListener](#addgetregistrationidlistener)
  - [removeGetRegistrationIdListener](#removegetregistrationidlistener)

Note: In Android, you must call initPush first, iOS doesn't need.

### Common API

Common API for Android and iOS.
#### getRegistrationID

registrationId generated by JPush SDK according to deviceToken .

- getRegistrationID(function)

  ```javascript
  JPushModule.getRegistrationID((registrationId) => {})
  ```

#### setAlias

set device's application alias, you can push notificaiton with alias, every device can only have one alias.

- setAlias(alias, successCallback)

  ```javascript
  JPushModule.setAlias('alias', (success) => {})
  ```

#### addTags

use `addTags` to tag device , and can add many tag for you device, you can push remote notification with tag.

- addTags(tags, callback)

  ```javascript
  JPushModule.addTags(['tag1', 'tag2'], (success) => {})
  ```

#### deleteTags

- deleteTags(tags, callback)

  ```javascript
  JPushModule.deleteTags(['tag1', 'tag2'], (success) => {})
  ```

#### setTags

reset  tags. 

- setTags(tags, successCallback)

  ```javascript
  JPushModule.setTags(['tag1','tag2'], (success) => {})
  ```


#### cleanTags

- cleanTags(callback)

  ```javascript
  JPushModule.cleanTags((success) => {})
  ```

#### Open Notification Event

**NOTE: ** iOS need update to jpush-react-native@2.0.0+

- addReceiveOpenNotificationListener(function)  

  ```javascript
  var callback = (map) => {
      }
  JPushModule.addReceiveOpenNotificationListener(callback);
  ```

- removeReceiveOpenNotificationListener(function)
  ```javascript
  JPushModule.removeReceiveOpenNotificationListener(callback)
  ```

#### Receive Notification Event
**NOTE: ** iOS need update to jpush-react-native@2.0.0+

- addReceiveNotificationListener(function) 

  ```javascript
  var callback = (event) => {
        console.log("alertContent: " + JSON.stringify(event));

  }
  JPushModule.addReceiveNotificationListener(callback);
  ```

- removeReceiveNotificationListener(function)  

  ```
  JPushModule.removeReceiveNotificationListener(callback);
  ```


#### Receive Custom Message Event
**receive custom message**(Add this listener to receive custom message.)
**NOTE: ** iOS need update to jpush-react-native@2.0.0+
- addReceiveCustomMsgListener(function)  

  ```javascript
  var callback = (message) => {
        console.log("alertContent: " + JSON.stringify(message));

  }
  JPushModule.addReceiveCustomMsgListener(callback);
  ```


- removeReceiveCustomMsgListener(function)

  ```
  JPushModule.removeReceiveCustomMsgListener(callback);
  ```




### iOS Only API

All apis can find in jpush-react-native/index.js.

#### setBadge

set application's badge.

```js
  JPushModule.setBadge(5, (success) => {
    console.log(success)
  });
```

#### getBadge

get application's  badge.

```javascript
  JPushModule.getBadge((badge) => {
    console.log(badge)
  });
```

#### setLocalNotification

```javascript
setLocalNotification(  Date,    		// date  local notification fire data
                       textContain,     // String local notification content
                       badge,           // int   after local notification fire will set application badge
                       alertAction,     // String alert notification button content
                       notificationKey, // String set local notification identify
                       userInfo,   		// Object notification extra key-value
                       soundName   		// String custom sound，set it to null will use defoult sound
         )
```

```javascript
  JPushModule.setLocalNotification( this.state.date, 
                                    this.state.textContain,
                                    5, 
                                    'Action',
                                    'notificationIdentify',
                                    {myInfo: ""},
                                    null);
```

#### Open Notification Launch App Event

**NOTE: ** iOS need update to jpush-react-native@2.0.0+

- addOpenNotificationLaunchAppListener(function) 

  add listener：application not running and tap notification to run application, will fire callback added by`addOpenNotificationLaunchAppListener` .

  ```javascript
  var callback = (notification) => {
  	console.log(JSON.stringify(nofitifation))
    }
  JPushModule.addOpenNotificationLaunchAppListener(callback)
  ```

- removeOpenNotificationLaunchAppListener(function)

  ```javascript
  JPushModule.removeOpenNotificationLaunchAppListener(callback)
  ```

  remove listener：application not running and tap notification to run application，`removeOpenNotificationLaunchAppListener` and `addOpenNotificationLaunchAppListener` used in pairs.

**Network Did Login Event**

**NOTE: ** iOS need update to jpush-react-native@2.0.0+

- addnetworkDidLoginListener(function)

  add listener: JPush SDK did login event ，`setTag` and `setAlias` needs to be called after network did login Event. 

  ```javascript
  var callback = () => {
    }
  JPushModule.addnetworkDidLoginListener(callback)
  ```

- removenetworkDidLoginListener(function)

  remove: JPush SDK did login event ，`removenetworkDidLoginListener` and `addnetworkDidLoginListener` used in pairs.


### Android Only API

- #### initPush

  Init  JPush。Suggest invokes in `MainActivity` 's  `onCreate`  method：

  ```
  JPushInterface.init(this);
  ```

- #### stopPush

  Stop push. Suggest invokes in  `MainActivity` 's  `onStop` method：

  ```
  JPushInterface.onStop(this);
  ```

- #### resumePush

  Resume push. Suggest invokes in  `MainActivity` 's  `onResume` method：

  ```
  JPushInterface.onResume(this);
  ```

- #### crashLogOFF

  Stop upload crash log.

  ```
  JPushModule.crashLogOFF();
  ```

- #### crashLogON

  Start upload crash log.

  ```
  JPushModule.crashLogON();
  ```

- #### notifyJSDidLoad

  Notify  JPushModule complete init，send cached events.

  ```
  JPushModule.notifyJSDidLoad((resultCode) => {

  });
  ```

- #### clearAllNotifications

  Clear all notifications.

  ```
  JPushModule.clearAllNotifications();
  ```

- #### clearNotificationById

  Clear notification by id.

  ```
  JPushModule.clearNotificationById(id);
  ```

- #### getInfo

  Get device's infomation.

  ```
  JPushModule.getInfo((map) => {
  });
  ```

- #### setStyleBasic

  Set notification's style to basic style.

  ```
  JPushModule.setStyleBasic();
  ```

- #### setStyleCustom

  Set custom notification style. Need add custom xml file to Android resource.

  ```
  JPushModule.setStyleCustom();
  ```

- #### setLatestNotificationNumber

  Set latest number of notifications. Default will show 5 latest notifications.

  ```
  JPushModule.setLatestNotificationNumber(maxNumber);
  ```

- #### setSilenceTime

  Set silence push time, will not push during these time.

  ```
  /**
   * Android Only
   * @param {object} config = {"startTime": String, "endTime": String}  // eg：{startTime: "20:30", endTime: "8:30"}
   */
  JPushModule.setSilenceTime(config);
  ```

- #### setPushTime

  Set allow push time.

  ```
  /**
   * Android Only
   * @param {object} config = {"days": Array, "startHour": Number, "endHour": Number}  
   * // eg：{days: [0, 6], startHour: 8, endHour: 23} indicate push is allowed in 8 a.m. to 23 p.m. in satuaday and sunday.
   */
  JPushModule.setPushTime(config);
  ```

  ​

- #### addGetRegistrationIdListener

  If add this listener, when finished registering device, open app will invoke this callback.

  ```
  JPushModule.addGetRegistrationIdListener(cb)
  ```

- #### removeGetRegistrationIdListener

  Remove listener. `removeGetRegistrationIdListener` and  `addGetRegistrationIdListener`  should used in pairs.

  ```
  JPushModule.removeGetRegistrationIdListener(callback);
  ```

  ​